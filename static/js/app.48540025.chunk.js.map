{"version":3,"sources":["D2App/components/AppDetails/AppDetails.module.css","D2App/App.module.css","D2App/components/Sidebar/Sidebar.module.css","D2App/components/AppList/AppIcon.module.css","D2App/components/AppList/AppList.module.css","D2App/pages/ManualInstall/ManualInstall.module.css","D2App/components/Sidebar/index.js","D2App/components/AppList/AppIcon.js","D2App/components/AppList/AppList.js","D2App/core-apps.js","D2App/get-latest-version.js","D2App/pages/CoreApps/CoreApps.js","D2App/pages/CustomApps/CustomApps.js","D2App/api.js","D2App/components/AppDetails/channel-to-display-name.js","D2App/components/AppDetails/Versions.js","D2App/components/AppDetails/AppDetails.js","D2App/pages/InstalledApp/InstalledApp.js","D2App/pages/ManualInstall/ManualInstall.js","D2App/locales/index.js","D2App/App.js"],"names":["module","exports","SidebarItem","label","path","exactMatch","history","useHistory","isActive","routeMatch","useRouteMatch","isExact","useIsItemActive","React","createElement","MenuItem","className","styles","sidebarItem","onClick","push","active","Sidebar","Menu","minor","patch","showCoreApps","useConfig","serverVersion","i18n","t","getIconSrc","app","iconSize","find","icons","concat","baseUrl","FallbackIcon","viewBox","fill","fillRule","height","rx","width","d","AppIcon","appIcon","src","AppCards","apps","appCards","map","_app$developer","_app$developer2","key","short_name","appCard","appCardName","name","appCardMetadata","developer","company","version","AppsWithUpdates","length","appsWithUpdates","header","AllApps","Fragment","AppList","updatesAvailableLabel","allAppsLabel","searchLabel","query","setQuery","useQueryParam","withDefault","StringParam","searchFilter","toLocaleLowerCase","includes","filteredApps","filter","filteredAppsWithUpdates","InputField","searchField","value","placeholder","onChange","coreApps","coreApp","bundled","getLatestVersion","versions","reduce","latestVersion","parsedLatestVersion","semver","coerce","parsedVersion","gt","resource","params","appHub","modules","CoreApps","loading","error","data","useDataQuery","NoticeBox","title","message","CenteredContent","CircularLoader","overridenCoreApps","overridenApp","a","m","iconUrl","icon","48","displayName","app_hub_id","id","customApps","CustomApps","organisation","errorLabel","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","Api","constructor","this","url","method","body","fetch","credentials","then","res","status","Error","statusText","versionId","request","appKey","file","FormData","append","useApi","channelToDisplayName","stable","context","development","canary","ChannelCheckbox","channelsFilter","setChannelsFilter","channelCheckbox","Checkbox","checked","has","disabled","size","newState","Set","add","delete","Filters","versionsFilters","sectionSubheader","keys","channel","some","v","VersionsTable","installedVersion","onVersionInstall","Table","TableHead","TableRowHead","TableCellHead","TableBody","TableRow","TableCell","moment","created","format","Button","small","secondary","installBtn","download","href","downloadUrl","Versions","useState","installSuccessAlert","useAlert","success","installErrorAlert","errorMessage","nsSeparator","critical","installVersion","dhisVersion","major","filteredVersions","minDhisVersion","min","maxDhisVersion","max","range","Range","satisfies","versionsContainer","async","show","ManageInstalledVersion","installedApp","reloadPage","uninstallApp","successAlert","errorAlert","manageInstalledVersion","primary","manageInstalledVersionDescription","Metadata","relativeTime","datetime","fromNow","sort","b","metadataList","metadataItem","Screenshots","screenshots","currentScreenshotIndex","setCurrentScreenshotIndex","currentScreenshot","screenshot","index","otherScreenshot","otherScreenshotCurrent","AppDetails","appHubApp","appName","appDeveloper","images","i","logo","imageUrl","Card","headerName","headerDeveloper","Divider","section","mainSection","join","sectionHeader","description","appsQuery","installedApps","appHubQuery","appHubId","InstalledApp","match","_appHubResponse$data","appsResponse","appHubResponse","lazy","called","refetch","UploadButton","uploadApp","isUploading","setIsUploading","formEl","useRef","inputEl","hiddenForm","ref","type","accept","event","target","files","current","reset","uploadBtn","click","ManualInstall","warning","namespace","addResources","arTranslations","csTranslations","enTranslations","frTranslations","idTranslations","nbTranslations","ruTranslations","svTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppHubApp","App","HashRouter","QueryParamProvider","ReactRouterRoute","Route","stringifyOptions","skipEmptyString","CssVariables","spacers","colors","container","sidebar","content","Switch","exact","component","Redirect","from","to"],"mappings":"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","file":"static/js/app.48540025.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appCard\":\"AppDetails_appCard__fSGXg\",\"header\":\"AppDetails_header__2Pnoy\",\"section\":\"AppDetails_section__x3oyK\",\"headerName\":\"AppDetails_headerName__1d0bZ\",\"headerDeveloper\":\"AppDetails_headerDeveloper__Z2okw\",\"sectionHeader\":\"AppDetails_sectionHeader__10Eg8\",\"sectionSubheader\":\"AppDetails_sectionSubheader__1h-os\",\"mainSection\":\"AppDetails_mainSection__q2N7R\",\"manageInstalledVersion\":\"AppDetails_manageInstalledVersion__WJejm\",\"manageInstalledVersionDescription\":\"AppDetails_manageInstalledVersionDescription__200Dq\",\"metadataList\":\"AppDetails_metadataList__1bObC\",\"metadataItem\":\"AppDetails_metadataItem__1zDzK\",\"screenshots\":\"AppDetails_screenshots__3tzYW\",\"currentScreenshot\":\"AppDetails_currentScreenshot__3OHwk\",\"otherScreenshot\":\"AppDetails_otherScreenshot__jLXwp\",\"otherScreenshotCurrent\":\"AppDetails_otherScreenshotCurrent__2lgLx\",\"versionsContainer\":\"AppDetails_versionsContainer__3jLeZ\",\"versionsFilters\":\"AppDetails_versionsFilters__3No5N\",\"channelCheckbox\":\"AppDetails_channelCheckbox__3dCjS\",\"dhisVersionSelect\":\"AppDetails_dhisVersionSelect__1emYk\",\"installBtn\":\"AppDetails_installBtn__30Mwd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2zgzu\",\"sidebar\":\"App_sidebar__10tAV\",\"content\":\"App_content__3I8HS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarItem\":\"Sidebar_sidebarItem__3GXPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appIcon\":\"AppIcon_appIcon__25Ztn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppList_header__3IUsK\",\"searchField\":\"AppList_searchField__2PImm\",\"appsWithUpdates\":\"AppList_appsWithUpdates__1WTeb\",\"appCards\":\"AppList_appCards__2Fi0q\",\"appCard\":\"AppList_appCard__HBwgF\",\"appCardName\":\"AppList_appCardName__2nQwS\",\"appCardMetadata\":\"AppList_appCardMetadata__3aj-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ManualInstall_header__1-JUl\",\"warning\":\"ManualInstall_warning__UiJbc\",\"uploadBtn\":\"ManualInstall_uploadBtn__21mh1\",\"hiddenForm\":\"ManualInstall_hiddenForm__1w9c1\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Menu, MenuItem } from '@dhis2/ui';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport styles from './Sidebar.module.css';\n\nconst useIsItemActive = (path, exactMatch) => {\n  const routeMatch = useRouteMatch(path);\n  if (!routeMatch) return false;\n  if (exactMatch) return routeMatch.isExact;\n  return true;\n};\n\nconst SidebarItem = ({\n  label,\n  path,\n  exactMatch = false\n}) => {\n  const history = useHistory();\n  const isActive = useIsItemActive(path, exactMatch);\n\n  const navigateToPath = () => history.push(path);\n\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.sidebarItem,\n    onClick: navigateToPath,\n    active: isActive,\n    label: label\n  });\n};\n\nSidebarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  exactMatch: PropTypes.bool\n};\n\nconst showCoreApps = ({\n  minor,\n  patch\n}) => minor > 35 || minor == 35 && patch >= 2;\n\nconst Sidebar = () => /*#__PURE__*/React.createElement(Menu, null, showCoreApps(useConfig().serverVersion) ? /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('Preinstalled core apps'),\n  path: \"/\",\n  exactMatch: true\n}) : null, /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('Custom apps'),\n  path: \"/custom-apps\"\n}), /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('Manual install'),\n  path: \"/manual-install\"\n}));\n\nexport default Sidebar;","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport styles from './AppIcon.module.css';\n\nconst getIconSrc = app => {\n  const iconSize = ['128', '48', '16'].find(iconSize => iconSize in app.icons);\n\n  if (iconSize) {\n    return \"\".concat(app.baseUrl, \"/\").concat(app.icons[iconSize]);\n  }\n\n  return null;\n};\n\nconst FallbackIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  viewBox: \"0 0 72 72\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"#f3f5f7\",\n  height: \"72\",\n  rx: \"10.5\",\n  width: \"72\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m60 52.5v3c0 2.3965213-1.8733799 4.3554913-4.2355908 4.492361l-.2644092.007639h-3v-3h3c.7692538 0 1.4032607-.5790603 1.4899084-1.3250683l.0100916-.1749317v-3zm-45 0v3l.0100916.1749317c.0866477.746008.7206546 1.3250683 1.4899084 1.3250683h3v3h-3l-.2644092-.007639c-2.3622109-.1368697-4.2355908-2.0958397-4.2355908-4.492361v-3zm18 4.5v3h-7.5v-3zm13.5 0v3h-7.5v-3zm-31.5-18v7.5h-3v-7.5zm45 0v7.5h-3v-7.5zm-45-13.5v7.5h-3v-7.5zm45 0v7.5h-3v-7.5zm-40.5-13.5v3h-3c-.7692538 0-1.4032607.5790603-1.4899084 1.3250683l-.0100916.1749317v3h-3v-3c0-2.3965213 1.8733799-4.3554913 4.2355908-4.492361l.2644092-.007639zm36 0 .2644092.007639c2.3622109.1368697 4.2355908 2.0958397 4.2355908 4.492361v3h-3v-3l-.0100916-.1749317c-.0866477-.746008-.7206546-1.3250683-1.4899084-1.3250683h-3v-3zm-22.5 0v3h-7.5v-3zm13.5 0v3h-7.5v-3z\",\n  fill: \"#c2ccd6\",\n  fillRule: \"nonzero\"\n})));\n\nconst AppIcon = ({\n  app\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.appIcon\n}, getIconSrc(app) ? /*#__PURE__*/React.createElement(\"img\", {\n  src: getIconSrc(app)\n}) : /*#__PURE__*/React.createElement(FallbackIcon, null));\n\nAppIcon.propTypes = {\n  app: PropTypes.object.isRequired\n};\nexport default AppIcon;","import i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { InputField } from '@dhis2/ui';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParam, StringParam, withDefault } from 'use-query-params';\nimport AppIcon from './AppIcon';\nimport styles from './AppList.module.css';\n\nconst AppCards = ({\n  apps\n}) => {\n  const history = useHistory();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.appCards\n  }, apps.map(app => {\n    var _app$developer, _app$developer2;\n\n    return /*#__PURE__*/React.createElement(\"button\", {\n      key: app.short_name,\n      className: styles.appCard,\n      onClick: () => history.push(\"/installed_app/\".concat(app.key))\n    }, /*#__PURE__*/React.createElement(AppIcon, {\n      app: app\n    }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n      className: styles.appCardName\n    }, app.name), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.appCardMetadata\n    }, ((_app$developer = app.developer) === null || _app$developer === void 0 ? void 0 : _app$developer.company) || ((_app$developer2 = app.developer) === null || _app$developer2 === void 0 ? void 0 : _app$developer2.name)), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.appCardMetadata\n    }, app.version && \"Version \".concat(app.version))));\n  }));\n};\n\nAppCards.propTypes = {\n  apps: PropTypes.array.isRequired\n};\n\nconst AppsWithUpdates = ({\n  label,\n  apps\n}) => {\n  if (apps.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.appsWithUpdates\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header\n  }, label), /*#__PURE__*/React.createElement(AppCards, {\n    apps: apps\n  }));\n};\n\nAppsWithUpdates.propTypes = {\n  apps: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\n\nconst AllApps = ({\n  label,\n  apps\n}) => {\n  if (apps.length === 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: styles.header\n    }, i18n.t('No apps found')), /*#__PURE__*/React.createElement(\"p\", null, \"No apps match your criteria\"));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header\n  }, label), /*#__PURE__*/React.createElement(AppCards, {\n    apps: apps\n  }));\n};\n\nAllApps.propTypes = {\n  apps: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport const AppList = ({\n  apps,\n  appsWithUpdates,\n  updatesAvailableLabel,\n  allAppsLabel,\n  searchLabel\n}) => {\n  const [query, setQuery] = useQueryParam('query', withDefault(StringParam, ''));\n\n  const handleQueryChange = ({\n    value\n  }) => {\n    setQuery(value, 'replaceIn');\n  };\n\n  const searchFilter = app => !query || app.name.toLocaleLowerCase().includes(query.toLocaleLowerCase());\n\n  const filteredApps = apps.filter(searchFilter);\n  const filteredAppsWithUpdates = (appsWithUpdates || []).filter(searchFilter);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InputField, {\n    className: styles.searchField,\n    value: query,\n    placeholder: searchLabel,\n    onChange: handleQueryChange\n  }), /*#__PURE__*/React.createElement(AppsWithUpdates, {\n    apps: filteredAppsWithUpdates,\n    label: updatesAvailableLabel\n  }), /*#__PURE__*/React.createElement(AllApps, {\n    apps: filteredApps,\n    label: allAppsLabel\n  }));\n};\nAppList.propTypes = {\n  allAppsLabel: PropTypes.string.isRequired,\n  searchLabel: PropTypes.string.isRequired,\n  updatesAvailableLabel: PropTypes.string.isRequired,\n  apps: PropTypes.array,\n  appsWithUpdates: PropTypes.array\n};","export const coreApps = [{\n  name: 'App Management',\n  short_name: 'app-management'\n}, {\n  name: 'Cache Cleaner',\n  short_name: 'cache-cleaner'\n}, {\n  name: 'Capture',\n  short_name: 'capture'\n}, {\n  name: 'Dashboard',\n  short_name: 'dashboard'\n}, {\n  name: 'Data Administration',\n  short_name: 'data-administration'\n}, {\n  name: 'Data Approval',\n  short_name: 'approval'\n}, {\n  name: 'Data Entry',\n  short_name: 'dataentry'\n}, {\n  name: 'Data Quality',\n  short_name: 'data-quality'\n}, {\n  name: 'Data Visualizer',\n  short_name: 'data-visualizer'\n}, {\n  name: 'Datastore',\n  short_name: 'datastore'\n}, {\n  name: 'Event Reports',\n  short_name: 'event-reports'\n}, {\n  name: 'Event Visualizer',\n  short_name: 'event-visualizer'\n}, {\n  name: 'Import/Export',\n  short_name: 'import-export'\n}, {\n  name: 'Interpretations',\n  short_name: 'interpretation'\n}, {\n  name: 'Maintenance',\n  short_name: 'maintenance'\n}, {\n  name: 'Maps',\n  short_name: 'maps'\n}, {\n  name: 'Menu Management',\n  short_name: 'menu-management'\n}, {\n  name: 'Messaging',\n  short_name: 'messaging'\n}, {\n  name: 'Pivot Table',\n  short_name: 'pivot'\n}, {\n  name: 'Reports',\n  short_name: 'reports'\n}, {\n  name: 'SMS Configuration',\n  short_name: 'sms-configuration'\n}, {\n  name: 'Scheduler',\n  short_name: 'scheduler'\n}, {\n  name: 'System Settings',\n  short_name: 'settings'\n}, {\n  name: 'Tracker Capture',\n  short_name: 'tracker-capture'\n}, {\n  name: 'Translations',\n  short_name: 'translations'\n}, {\n  name: 'Usage Analytics',\n  short_name: 'usage-analytics'\n}, {\n  name: 'User Profile',\n  short_name: 'user-profile'\n}, {\n  name: 'Users',\n  short_name: 'user'\n}].map(coreApp => ({ ...coreApp,\n  key: coreApp.short_name,\n  bundled: true,\n  developer: {\n    company: 'DHIS2'\n  }\n}));","import semver from 'semver';\nexport const getLatestVersion = versions => versions.reduce((latestVersion, version) => {\n  const parsedLatestVersion = semver.coerce(latestVersion.version);\n  const parsedVersion = semver.coerce(version.version);\n\n  if (parsedVersion) {\n    if (!parsedLatestVersion) {\n      return version;\n    }\n\n    return semver.gt(parsedVersion, parsedLatestVersion) ? version : latestVersion;\n  } else {\n    return latestVersion;\n  }\n}, versions[0]);","import { useDataQuery, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport { AppList } from '../../components/AppList/AppList';\nimport { coreApps } from '../../core-apps';\nimport { getLatestVersion } from '../../get-latest-version';\nconst query = {\n  coreApps: {\n    resource: 'apps',\n    params: {\n      bundled: true\n    }\n  },\n  // TODO: Add ability to request certain app IDs to `/v2/apps` API and use\n  // that instead\n  appHub: {\n    resource: 'appHub/v1/apps'\n  },\n  modules: {\n    resource: 'action::menu/getModules'\n  }\n};\nexport const CoreApps = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Something went wrong whilst loading your core apps')\n    }, error.message);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const overridenCoreApps = data.coreApps.filter(app => app.bundled);\n  const apps = coreApps.map(coreApp => {\n    const overridenApp = overridenCoreApps === null || overridenCoreApps === void 0 ? void 0 : overridenCoreApps.find(a => a.short_name === coreApp.short_name);\n\n    if (overridenApp) {\n      return overridenApp;\n    }\n\n    const module = data.modules.modules.find(m => m.name === \"dhis-web-\".concat(coreApp.short_name));\n    const iconUrl = module === null || module === void 0 ? void 0 : module.icon;\n    const icons = iconUrl ? {\n      48: iconUrl\n    } : {};\n    const name = (module === null || module === void 0 ? void 0 : module.displayName) || coreApp.name;\n    return { ...coreApp,\n      baseUrl: \"\".concat(baseUrl, \"/dhis-web-\").concat(coreApp.short_name),\n      name,\n      icons\n    };\n  }).map(app => ({ ...app,\n    appHub: app.app_hub_id && (data === null || data === void 0 ? void 0 : data.appHub.find(({\n      id\n    }) => id === app.app_hub_id))\n  }));\n  const appsWithUpdates = apps.filter(app => app.appHub && app.version !== getLatestVersion(app.appHub.versions));\n  return /*#__PURE__*/React.createElement(AppList, {\n    apps: apps,\n    appsWithUpdates: appsWithUpdates,\n    updatesAvailableLabel: i18n.t('Core apps with updates available'),\n    allAppsLabel: i18n.t('All core apps'),\n    searchLabel: i18n.t('Search core apps')\n  });\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { AppList } from '../../components/AppList/AppList';\nimport { getLatestVersion } from '../../get-latest-version';\nconst query = {\n  customApps: {\n    resource: 'apps',\n    params: {\n      bundled: false\n    }\n  },\n  appHub: {\n    resource: 'appHub/v1/apps'\n  }\n};\nexport const CustomApps = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  const apps = data === null || data === void 0 ? void 0 : data.customApps.filter(app => !app.bundled).map(app => ({ ...app,\n    appHub: data.appHub.find(({\n      id,\n      name,\n      developer\n    }) => {\n      if (app.app_hub_id) {\n        return id === app.app_hub_id;\n      }\n\n      return name === app.name && app.developer && (developer.organisation === (app.developer.company || app.developer.name) || developer.name === app.developer.name);\n    })\n  }));\n  const appsWithUpdates = apps === null || apps === void 0 ? void 0 : apps.filter(app => app.appHub && getLatestVersion(app.appHub.versions) !== app.version);\n  return /*#__PURE__*/React.createElement(AppList, {\n    error: error,\n    loading: loading,\n    apps: apps,\n    appsWithUpdates: appsWithUpdates,\n    errorLabel: i18n.t('Something went wrong whilst loading your custom apps'),\n    updatesAvailableLabel: i18n.t('Custom apps with updates available'),\n    allAppsLabel: i18n.t('All installed custom apps'),\n    searchLabel: i18n.t('Search installed custom apps')\n  });\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useConfig } from '@dhis2/app-runtime';\n\nclass Api {\n  constructor({\n    baseUrl\n  }) {\n    _defineProperty(this, \"request\", ({\n      url,\n      method,\n      body\n    }) => fetch(\"\".concat(this.baseUrl, \"/api/\").concat(url), {\n      method,\n      body,\n      credentials: 'include'\n    }).then(res => {\n      if (res.status < 200 || res.status >= 300) {\n        throw new Error(res.statusText);\n      }\n\n      return res;\n    }));\n\n    _defineProperty(this, \"installVersion\", versionId => this.request({\n      url: \"appHub/\".concat(versionId),\n      method: 'post'\n    }));\n\n    _defineProperty(this, \"uninstallApp\", appKey => this.request({\n      url: \"apps/\".concat(appKey),\n      method: 'delete'\n    }));\n\n    _defineProperty(this, \"uploadApp\", file => {\n      const data = new FormData();\n      data.append('file', file);\n      return this.request({\n        url: 'apps',\n        method: 'post',\n        body: data\n      });\n    });\n\n    this.baseUrl = baseUrl;\n  }\n\n}\n\nexport const useApi = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  return new Api({\n    baseUrl\n  });\n};","import i18n from '@dhis2/d2-i18n';\nexport const channelToDisplayName = {\n  stable: i18n.t('Stable', {\n    context: 'Name of AppHub release channel'\n  }),\n  development: i18n.t('Development', {\n    context: 'Name of AppHub release channel'\n  }),\n  canary: i18n.t('Canary', {\n    context: 'Name of AppHub release channel'\n  })\n};","import { useAlert, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Checkbox, Button, Table, TableHead, TableRowHead, TableCellHead, TableBody, TableRow, TableCell } from '@dhis2/ui';\nimport moment from 'moment';\nimport React, { useState } from 'react';\nimport semver from 'semver';\nimport { useApi } from '../../api';\nimport styles from './AppDetails.module.css';\nimport { channelToDisplayName } from './channel-to-display-name';\n\nconst ChannelCheckbox = ({\n  name,\n  label,\n  channelsFilter,\n  setChannelsFilter\n}) => {\n  const handleChange = ({\n    checked\n  }) => {\n    const newState = new Set(channelsFilter);\n\n    if (checked) {\n      newState.add(name);\n    } else {\n      newState.delete(name);\n    }\n\n    setChannelsFilter(newState);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.channelCheckbox\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: channelsFilter.has(name),\n    disabled: channelsFilter.size === 1 && channelsFilter.has(name),\n    onChange: handleChange,\n    label: label\n  }));\n};\n\nChannelCheckbox.propTypes = {\n  channelsFilter: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  setChannelsFilter: PropTypes.func.isRequired\n};\n\nconst Filters = ({\n  versions,\n  channelsFilter,\n  setChannelsFilter\n}) => {\n  const hasChannel = channel => versions.some(v => v.channel === channel);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.versionsFilters\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.sectionSubheader\n  }, i18n.t('Channel', {\n    context: 'AppHub release channel'\n  })), Object.keys(channelToDisplayName).filter(hasChannel).map(name => /*#__PURE__*/React.createElement(ChannelCheckbox, {\n    key: name,\n    name: name,\n    label: channelToDisplayName[name],\n    channelsFilter: channelsFilter,\n    setChannelsFilter: setChannelsFilter\n  })));\n};\n\nFilters.propTypes = {\n  channelsFilter: PropTypes.object.isRequired,\n  setChannelsFilter: PropTypes.func.isRequired,\n  versions: PropTypes.array.isRequired\n};\n\nconst VersionsTable = ({\n  installedVersion,\n  versions,\n  onVersionInstall\n}) => /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Version')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Channel', {\n  context: 'AppHub release channel'\n})), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Upload date')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, versions.map(version => /*#__PURE__*/React.createElement(TableRow, {\n  key: version.id\n}, /*#__PURE__*/React.createElement(TableCell, null, version.version), /*#__PURE__*/React.createElement(TableCell, null, channelToDisplayName[version.channel]), /*#__PURE__*/React.createElement(TableCell, null, moment(version.created).format('L')), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  secondary: true,\n  className: styles.installBtn,\n  disabled: version.version === installedVersion,\n  onClick: () => onVersionInstall(version)\n}, version.version === installedVersion ? i18n.t('Installed') : i18n.t('Install')), /*#__PURE__*/React.createElement(\"a\", {\n  download: true,\n  href: version.downloadUrl\n}, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  secondary: true\n}, i18n.t('Download'))))))));\n\nVersionsTable.propTypes = {\n  versions: PropTypes.array.isRequired,\n  onVersionInstall: PropTypes.func.isRequired,\n  installedVersion: PropTypes.string\n};\nexport const Versions = ({\n  installedVersion,\n  versions,\n  onVersionInstall\n}) => {\n  const [channelsFilter, setChannelsFilter] = useState(new Set(['stable']));\n  const installSuccessAlert = useAlert(i18n.t('App installed successfully'), {\n    success: true\n  });\n  const installErrorAlert = useAlert(({\n    error\n  }) => i18n.t('Failed to install app: {{errorMessage}}', {\n    errorMessage: error.message,\n    nsSeparator: null\n  }), {\n    critical: true\n  });\n  const {\n    serverVersion\n  } = useConfig();\n  const {\n    installVersion\n  } = useApi();\n  const dhisVersion = semver.coerce(\"\".concat(serverVersion.major, \".\").concat(serverVersion.minor));\n\n  const satisfiesDhisVersion = version => {\n    const {\n      minDhisVersion: min,\n      maxDhisVersion: max\n    } = version;\n\n    if (!min && !max) {\n      return true;\n    } else if (min && max) {\n      const range = new semver.Range(\"\".concat(min, \" - \").concat(max));\n      return semver.satisfies(dhisVersion, range);\n    } else if (!min && max) {\n      const range = new semver.Range(\"<=\".concat(max));\n      return semver.satisfies(dhisVersion, range);\n    } else if (min && !max) {\n      const range = new semver.Range(\">=\".concat(min));\n      return semver.satisfies(dhisVersion, range);\n    }\n  };\n\n  const filteredVersions = versions.filter(version => channelsFilter.has(version.channel)).filter(satisfiesDhisVersion);\n\n  const handleVersionInstall = async version => {\n    try {\n      await installVersion(version.id);\n      installSuccessAlert.show();\n      onVersionInstall();\n    } catch (error) {\n      installErrorAlert.show({\n        error\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.versionsContainer\n  }, /*#__PURE__*/React.createElement(Filters, {\n    versions: versions,\n    channelsFilter: channelsFilter,\n    setChannelsFilter: setChannelsFilter\n  }), /*#__PURE__*/React.createElement(VersionsTable, {\n    installedVersion: installedVersion,\n    versions: filteredVersions,\n    onVersionInstall: handleVersionInstall\n  }));\n};\nVersions.propTypes = {\n  versions: PropTypes.array.isRequired,\n  onVersionInstall: PropTypes.func.isRequired,\n  installedVersion: PropTypes.string\n};","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, Card, Divider } from '@dhis2/ui';\nimport moment from 'moment';\nimport React, { useState } from 'react';\nimport { useApi } from '../../api';\nimport { getLatestVersion } from '../../get-latest-version';\nimport styles from './AppDetails.module.css';\nimport { channelToDisplayName } from './channel-to-display-name';\nimport { Versions } from './Versions';\n\nconst ManageInstalledVersion = ({\n  installedApp,\n  versions,\n  reloadPage\n}) => {\n  const {\n    installVersion,\n    uninstallApp\n  } = useApi();\n  const successAlert = useAlert(({\n    message\n  }) => message, {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    message\n  }) => message, {\n    critical: true\n  });\n  const latestVersion = getLatestVersion(versions);\n\n  const handleUpdate = async () => {\n    try {\n      await installVersion(latestVersion.id);\n      successAlert.show({\n        message: i18n.t('App uninstalled successfully')\n      });\n      reloadPage();\n    } catch (error) {\n      errorAlert.show({\n        message: i18n.t('Failed to uninstall app: {{errorMessage}}', {\n          errorMessage: error.message,\n          nsSeparator: null\n        })\n      });\n    }\n  };\n\n  const handleUninstall = async () => {\n    try {\n      await uninstallApp(installedApp.key);\n      successAlert.show({\n        message: i18n.t('App uninstalled successfully')\n      });\n      reloadPage();\n    } catch (error) {\n      errorAlert.show({\n        message: i18n.t('Failed to uninstall app: {{errorMessage}}', {\n          errorMessage: error.message,\n          nsSeparator: null\n        })\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.manageInstalledVersion\n  }, latestVersion && installedApp.version !== latestVersion && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleUpdate\n  }, i18n.t('Update to latest version')), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.manageInstalledVersionDescription\n  }, i18n.t('{{channel}} release {{version}}', {\n    channel: channelToDisplayName[latestVersion.channel],\n    version: latestVersion.version\n  }))), !installedApp.bundled && /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: handleUninstall\n  }, i18n.t('Uninstall')));\n};\n\nManageInstalledVersion.propTypes = {\n  reloadPage: PropTypes.func.isRequired,\n  versions: PropTypes.array.isRequired,\n  installedApp: PropTypes.object\n};\n\nconst Metadata = ({\n  installedVersion,\n  versions\n}) => {\n  const relativeTime = datetime => moment(datetime).fromNow();\n\n  versions = versions.sort((a, b) => a.created - b.created);\n  const latestVersion = getLatestVersion(versions);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.metadataList\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.metadataItem\n  }, installedVersion ? i18n.t('Version {{version}} installed', {\n    version: installedVersion\n  }) : i18n.t('Version {{version}}', {\n    version: latestVersion.version\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.metadataItem\n  }, i18n.t('Last updated {{relativeTime}}', {\n    relativeTime: relativeTime(versions[versions.length - 1].created)\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.metadataItem\n  }, i18n.t('First published {{relativeTime}}', {\n    relativeTime: relativeTime(versions[0].created)\n  })));\n};\n\nMetadata.propTypes = {\n  versions: PropTypes.array.isRequired,\n  installedVersion: PropTypes.string\n};\n\nconst Screenshots = ({\n  screenshots\n}) => {\n  const [currentScreenshotIndex, setCurrentScreenshotIndex] = useState(0);\n  const currentScreenshot = screenshots[currentScreenshotIndex];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.screenshots\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.currentScreenshot,\n    src: currentScreenshot\n  })), /*#__PURE__*/React.createElement(\"div\", null, screenshots.map((screenshot, index) => /*#__PURE__*/React.createElement(\"button\", {\n    key: index,\n    onClick: () => setCurrentScreenshotIndex(index),\n    className: styles.otherScreenshot + ' ' + (index === currentScreenshotIndex ? styles.otherScreenshotCurrent : '')\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: screenshot\n  })))));\n};\n\nScreenshots.propTypes = {\n  screenshots: PropTypes.array.isRequired\n};\nexport const AppDetails = ({\n  installedApp,\n  appHubApp,\n  onVersionInstall\n}) => {\n  const appName = installedApp ? installedApp.name : appHubApp.name;\n  const appDeveloper = installedApp ? installedApp.developer.company || installedApp.developer.name : appHubApp.developer.organisation || appHubApp.developer.name;\n  const screenshots = appHubApp === null || appHubApp === void 0 ? void 0 : appHubApp.images.filter(i => !i.logo).map(i => i.imageUrl);\n  return /*#__PURE__*/React.createElement(Card, {\n    className: styles.appCard\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.headerName\n  }, appName), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.headerDeveloper\n  }, i18n.t('by {{developer}}', {\n    developer: appDeveloper,\n    context: 'developer of application'\n  }))), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"section\", {\n    className: [styles.section, styles.mainSection].join(' ')\n  }, appHubApp && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('About this app')), /*#__PURE__*/React.createElement(\"p\", null, appHubApp.description || /*#__PURE__*/React.createElement(\"em\", null, i18n.t('The developer of this application has not provided a description')))), /*#__PURE__*/React.createElement(\"div\", null, installedApp && /*#__PURE__*/React.createElement(ManageInstalledVersion, {\n    installedApp: installedApp,\n    versions: (appHubApp === null || appHubApp === void 0 ? void 0 : appHubApp.versions) || [],\n    reloadPage: onVersionInstall\n  }), appHubApp && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('Additional information')), /*#__PURE__*/React.createElement(Metadata, {\n    installedVersion: installedApp.version,\n    versions: appHubApp.versions\n  })))), (screenshots === null || screenshots === void 0 ? void 0 : screenshots.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.section\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('Screenshots')), /*#__PURE__*/React.createElement(Screenshots, {\n    screenshots: screenshots\n  }))), appHubApp && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.section\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('All compatible versions of this application')), /*#__PURE__*/React.createElement(Versions, {\n    installedVersion: installedApp.version,\n    versions: appHubApp.versions,\n    onVersionInstall: onVersionInstall\n  }))));\n};\nAppDetails.propTypes = {\n  onVersionInstall: PropTypes.func.isRequired,\n  appHubApp: PropTypes.object,\n  installedApp: PropTypes.object\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport { AppDetails } from '../../components/AppDetails/AppDetails';\nimport { coreApps } from '../../core-apps';\nconst appsQuery = {\n  modules: {\n    resource: 'action::menu/getModules'\n  },\n  installedApps: {\n    resource: 'apps'\n  }\n};\nconst appHubQuery = {\n  app: {\n    resource: \"appHub/v1/apps\",\n    id: ({\n      appHubId\n    }) => appHubId\n  }\n};\nexport const InstalledApp = ({\n  match\n}) => {\n  var _appHubResponse$data;\n\n  const {\n    appKey\n  } = match.params;\n  const appsResponse = useDataQuery(appsQuery);\n  const appHubResponse = useDataQuery(appHubQuery, {\n    lazy: true\n  });\n\n  if (appsResponse.error || appHubResponse.error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading app')\n    }, (appsResponse.error || appHubResponse.error).message);\n  }\n\n  if (appsResponse.loading || appHubResponse.loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const {\n    modules: {\n      modules\n    },\n    installedApps\n  } = appsResponse.data;\n  const coreApp = coreApps.find(app => app.key === appKey);\n  const app = installedApps.find(app => app.key === appKey) || coreApp;\n\n  if (!app) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading app')\n    }, i18n.t('App not found'));\n  } // XXX\n\n\n  if (app.bundled && !app.app_hub_id && app.name === 'App Management') {\n    app.app_hub_id = '28823170-1203-46d1-81d5-eea67abae41c';\n  }\n\n  const module = modules.find(app => app.name === \"dhis-web-\".concat(appKey)); // If the app is a core app, then `module.displayName` should contain its translated name\n\n  if (coreApp && module) {\n    app.name = module.displayName;\n  }\n\n  if (app.app_hub_id && !appHubResponse.called) {\n    appHubResponse.refetch({\n      appHubId: app.app_hub_id\n    });\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  return /*#__PURE__*/React.createElement(AppDetails, {\n    installedApp: app,\n    appHubApp: (_appHubResponse$data = appHubResponse.data) === null || _appHubResponse$data === void 0 ? void 0 : _appHubResponse$data.app,\n    onVersionInstall: appsResponse.refetch\n  });\n};\nInstalledApp.propTypes = {\n  match: PropTypes.object.isRequired\n};","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React, { useState, useRef } from 'react';\nimport { useApi } from '../../api';\nimport styles from './ManualInstall.module.css';\n\nconst UploadButton = () => {\n  const {\n    uploadApp\n  } = useApi();\n  const [isUploading, setIsUploading] = useState(false);\n  const successAlert = useAlert(i18n.t('App installed successfully'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => i18n.t('Failed to install app: {{errorMessage}}', {\n    errorMessage: error.message,\n    nsSeparator: null\n  }), {\n    critical: true\n  });\n  const formEl = useRef(null);\n  const inputEl = useRef(null);\n\n  const handleClick = () => {\n    inputEl.current.click();\n  };\n\n  const handleUpload = async event => {\n    setIsUploading(true);\n\n    try {\n      await uploadApp(event.target.files[0]);\n      formEl.current.reset();\n      successAlert.show();\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n\n    setIsUploading(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.hiddenForm,\n    ref: formEl\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"application/zip\",\n    ref: inputEl,\n    onChange: handleUpload\n  })), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    className: styles.uploadBtn,\n    onClick: handleClick,\n    disabled: isUploading\n  }, isUploading ? i18n.t('Uploading...') : i18n.t('Upload an app to install')));\n};\n\nexport const ManualInstall = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.header\n}, i18n.t('Manually install an app')), /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.warning\n}, i18n.t('Installed apps have access to your DHIS2 data and metadata. Make sure you trust an app before installing it.')), /*#__PURE__*/React.createElement(UploadButton, null));","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { CssVariables } from '@dhis2/ui';\nimport React from 'react';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport styles from './App.module.css';\nimport Sidebar from './components/Sidebar';\nimport { CoreApps } from './pages/CoreApps/CoreApps';\nimport { CustomApps } from './pages/CustomApps/CustomApps';\nimport { InstalledApp } from './pages/InstalledApp/InstalledApp';\nimport { ManualInstall } from './pages/ManualInstall/ManualInstall';\nimport './locales'; // XXX\n\nconst AppHubApp = () => null;\n\nconst App = () => /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(QueryParamProvider, {\n  ReactRouterRoute: Route,\n  stringifyOptions: {\n    skipEmptyString: true\n  }\n}, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.sidebar\n}, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"main\", {\n  className: styles.content\n}, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/\",\n  component: CoreApps\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/custom-apps\",\n  component: CustomApps\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/installed_app/:appKey\",\n  component: InstalledApp\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/app/:appHubId\",\n  component: AppHubApp\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/manual-install\",\n  component: ManualInstall\n}), /*#__PURE__*/React.createElement(Redirect, {\n  from: \"*\",\n  to: \"/\"\n}))))));\n\nexport default App;"],"sourceRoot":""}