{"version":3,"file":"static/js/app.f0929ba6.chunk.js","mappings":"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","sources":["webpack://@dhis2/app-shell/./src/D2App/App.module.css?77cb","webpack://@dhis2/app-shell/./src/D2App/components/Sidebar/Sidebar.module.css?9bef","D2App/components/Sidebar/Sidebar.js","webpack://@dhis2/app-shell/./src/D2App/components/AppIcon/AppIcon.module.css?8bbf","D2App/components/AppIcon/AppIcon.js","webpack://@dhis2/app-shell/./src/D2App/components/AppCard/AppCard.module.css?da1f","D2App/components/AppCard/AppCard.js","webpack://@dhis2/app-shell/./src/D2App/components/AppCards/AppCards.module.css?f4ca","D2App/components/AppCards/AppCards.js","D2App/get-latest-version.js","webpack://@dhis2/app-shell/./src/D2App/pages/AppHub/AppHub.module.css?0107","D2App/pages/AppHub/AppHub.js","D2App/get-app-icon-src.js","webpack://@dhis2/app-shell/./src/D2App/components/AppDetails/AppDetails.module.css?7291","webpack://@dhis2/app-shell/./src/D2App/components/AppDetails/Description.module.css?5d18","D2App/components/AppDetails/Description.js","D2App/api.js","D2App/semver-helpers.js","D2App/components/AppDetails/channel-to-display-name.js","D2App/components/AppDetails/ManageInstalledVersion.js","D2App/components/AppDetails/Versions.js","D2App/components/AppDetails/AppDetails.js","D2App/pages/AppHubApp/AppHubApp.js","D2App/locales/index.js","webpack://@dhis2/app-shell/./src/D2App/components/AppHubErrorNoticeBox/AppHubErrorNoticeBox.module.css?6cd1","D2App/components/AppHubErrorNoticeBox/AppHubErrorNoticeBox.js","webpack://@dhis2/app-shell/./src/D2App/components/AppsList/AppsList.module.css?6a25","D2App/components/AppsList/AppsList.js","D2App/core-apps.js","D2App/pages/CoreApps/CoreApps.js","D2App/pages/CustomApps/CustomApps.js","D2App/pages/InstalledApp/InstalledApp.js","webpack://@dhis2/app-shell/./src/D2App/pages/ManualInstall/ManualInstall.module.css?3b55","D2App/pages/ManualInstall/ManualInstall.js","D2App/App.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"App_container__KkHQY\",\"sidebar\":\"App_sidebar__EbNVl\",\"content\":\"App_content__MxC6Z\"};","// extracted by mini-css-extract-plugin\nexport default {\"sidebarItem\":\"Sidebar_sidebarItem__gxB78\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Menu, MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport styles from './Sidebar.module.css';\nconst useIsItemActive = (path, exactMatch) => {\n  const routeMatch = useRouteMatch(path);\n  if (!routeMatch) {\n    return false;\n  }\n  if (exactMatch) {\n    return routeMatch.isExact;\n  }\n  return true;\n};\nconst SidebarItem = _ref => {\n  let {\n    label,\n    path,\n    exactMatch = false\n  } = _ref;\n  const history = useHistory();\n  const isActive = useIsItemActive(path, exactMatch);\n  const navigateToPath = () => history.push(path);\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.sidebarItem,\n    onClick: navigateToPath,\n    href: path,\n    active: isActive,\n    label: label\n  });\n};\nSidebarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  exactMatch: PropTypes.bool\n};\nconst showCoreApps = _ref2 => {\n  let {\n    minor,\n    patch\n  } = _ref2;\n  return minor > 35 || minor == 35 && patch >= 2;\n};\nexport const Sidebar = () => /*#__PURE__*/React.createElement(Menu, null, showCoreApps(useConfig().serverVersion) ? /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('Core apps'),\n  path: \"/\",\n  exactMatch: true\n}) : null, /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('Custom apps'),\n  path: \"/custom-apps\"\n}), /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('App Hub'),\n  path: \"/app-hub\"\n}), /*#__PURE__*/React.createElement(SidebarItem, {\n  label: i18n.t('Manual install'),\n  path: \"/manual-install\"\n}));","// extracted by mini-css-extract-plugin\nexport default {\"appIcon\":\"AppIcon_appIcon__8H7ZA\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './AppIcon.module.css';\nconst FallbackIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  viewBox: \"0 0 72 72\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"#f3f5f7\",\n  height: \"72\",\n  rx: \"10.5\",\n  width: \"72\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m60 52.5v3c0 2.3965213-1.8733799 4.3554913-4.2355908 4.492361l-.2644092.007639h-3v-3h3c.7692538 0 1.4032607-.5790603 1.4899084-1.3250683l.0100916-.1749317v-3zm-45 0v3l.0100916.1749317c.0866477.746008.7206546 1.3250683 1.4899084 1.3250683h3v3h-3l-.2644092-.007639c-2.3622109-.1368697-4.2355908-2.0958397-4.2355908-4.492361v-3zm18 4.5v3h-7.5v-3zm13.5 0v3h-7.5v-3zm-31.5-18v7.5h-3v-7.5zm45 0v7.5h-3v-7.5zm-45-13.5v7.5h-3v-7.5zm45 0v7.5h-3v-7.5zm-40.5-13.5v3h-3c-.7692538 0-1.4032607.5790603-1.4899084 1.3250683l-.0100916.1749317v3h-3v-3c0-2.3965213 1.8733799-4.3554913 4.2355908-4.492361l.2644092-.007639zm36 0 .2644092.007639c2.3622109.1368697 4.2355908 2.0958397 4.2355908 4.492361v3h-3v-3l-.0100916-.1749317c-.0866477-.746008-.7206546-1.3250683-1.4899084-1.3250683h-3v-3zm-22.5 0v3h-7.5v-3zm13.5 0v3h-7.5v-3z\",\n  fill: \"#c2ccd6\",\n  fillRule: \"nonzero\"\n})));\nexport const AppIcon = _ref => {\n  let {\n    src\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.appIcon\n  }, src ? /*#__PURE__*/React.createElement(\"img\", {\n    src: src,\n    loading: \"lazy\"\n  }) : /*#__PURE__*/React.createElement(FallbackIcon, null));\n};\nAppIcon.propTypes = {\n  src: PropTypes.string\n};","// extracted by mini-css-extract-plugin\nexport default {\"appCard\":\"AppCard_appCard__Z1+8q\",\"appCardName\":\"AppCard_appCardName__3-vCK\",\"appCardMetadata\":\"AppCard_appCardMetadata__7U+qG\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { AppIcon } from '../AppIcon/AppIcon.js';\nimport styles from './AppCard.module.css';\nexport const AppCard = _ref => {\n  let {\n    iconSrc,\n    appName,\n    appDeveloper,\n    appVersion,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.appCard,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(AppIcon, {\n    src: iconSrc\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.appCardName\n  }, appName), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.appCardMetadata\n  }, appDeveloper), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.appCardMetadata\n  }, appVersion && `Version ${appVersion}`)));\n};\nAppCard.propTypes = {\n  appName: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  appDeveloper: PropTypes.string,\n  appVersion: PropTypes.string,\n  iconSrc: PropTypes.string\n};","// extracted by mini-css-extract-plugin\nexport default {\"appCards\":\"AppCards_appCards__NcW9h\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './AppCards.module.css';\nexport const AppCards = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.appCards\n  }, children);\n};\nAppCards.propTypes = {\n  children: PropTypes.array.isRequired\n};","import semver from 'semver';\nexport const getLatestVersion = versions => versions.reduce((latestVersion, version) => {\n  const parsedLatestVersion = semver.coerce(latestVersion.version);\n  const parsedVersion = semver.coerce(version.version);\n  if (parsedVersion) {\n    if (!parsedLatestVersion) {\n      return version;\n    }\n    return semver.gt(parsedVersion, parsedLatestVersion) ? version : latestVersion;\n  } else {\n    return latestVersion;\n  }\n}, versions[0]);","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AppHub_header__0O2iJ\",\"searchField\":\"AppHub_searchField__mJ4JA\",\"paginationWrapper\":\"AppHub_paginationWrapper__QO0qX\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { useConfig, useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { InputField, Pagination, NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDebounce } from 'use-debounce';\nimport { useQueryParams, StringParam, NumberParam, withDefault } from 'use-query-params';\nimport { AppCard } from '../../components/AppCard/AppCard.js';\nimport { AppCards as AppCards_ } from '../../components/AppCards/AppCards.js';\nimport { getLatestVersion } from '../../get-latest-version.js';\nimport styles from './AppHub.module.css';\nconst query = {\n  appHub: {\n    resource: 'appHub/v2/apps',\n    params: params => ({\n      pageSize: 24,\n      ...params\n    })\n  }\n};\nconst AppCards = _ref => {\n  let {\n    apps\n  } = _ref;\n  const history = useHistory();\n  const getIconSrc = app => {\n    var _app$images$find;\n    return (_app$images$find = app.images.find(i => i.logo)) === null || _app$images$find === void 0 ? void 0 : _app$images$find.imageUrl;\n  };\n  return /*#__PURE__*/React.createElement(AppCards_, null, apps.map(app => /*#__PURE__*/React.createElement(AppCard, {\n    key: app.id,\n    iconSrc: getIconSrc(app),\n    appName: app.name,\n    appDeveloper: app.developer.organisation || app.developer.name,\n    appVersion: getLatestVersion(app.versions).version,\n    onClick: () => history.push(`/app/${app.id}`)\n  })));\n};\nAppCards.propTypes = {\n  apps: PropTypes.array.isRequired\n};\nconst SearchFilter = _ref2 => {\n  let {\n    query,\n    onQueryChange\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(InputField, {\n    className: styles.searchField,\n    placeholder: i18n.t('Search AppHub apps'),\n    value: query,\n    onChange: _ref3 => {\n      let {\n        value\n      } = _ref3;\n      return onQueryChange(value);\n    },\n    type: \"search\"\n  });\n};\nSearchFilter.propTypes = {\n  onQueryChange: PropTypes.func.isRequired,\n  query: PropTypes.string\n};\nconst AppsList = _ref4 => {\n  let {\n    apps,\n    pager,\n    onPageChange\n  } = _ref4;\n  if (apps.length === 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: styles.header\n    }, i18n.t('No apps found')), /*#__PURE__*/React.createElement(\"p\", null, i18n.t('No apps match your criteria')));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppCards, {\n    apps: apps\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.paginationWrapper\n  }, /*#__PURE__*/React.createElement(Pagination, _extends({\n    hidePageSizeSelect: true,\n    onPageChange: onPageChange\n  }, pager))));\n};\nAppsList.propTypes = {\n  apps: PropTypes.array.isRequired,\n  pager: PropTypes.object.isRequired,\n  onPageChange: PropTypes.func.isRequired\n};\nexport const AppHub = () => {\n  const {\n    systemInfo\n  } = useConfig();\n  const [queryParams, setQueryParams] = useQueryParams({\n    query: withDefault(StringParam, ''),\n    page: withDefault(NumberParam, 1)\n  });\n  const [debouncedQuery] = useDebounce(queryParams.query, 300);\n  const {\n    loading,\n    error,\n    data,\n    called,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true,\n    variables: {\n      dhis_version: systemInfo.version\n    }\n  });\n  useEffect(() => {\n    refetch(queryParams);\n  }, [debouncedQuery, queryParams.page]);\n  const handleQueryChange = query => {\n    setQueryParams({\n      query,\n      page: 1\n    }, 'replace');\n  };\n  const handlePageChange = page => {\n    setQueryParams({\n      page\n    });\n  };\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Something went wrong whilst loading App Hub apps')\n    }, error.message);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchFilter, {\n    query: queryParams.query,\n    onQueryChange: handleQueryChange\n  }), !called || loading ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : /*#__PURE__*/React.createElement(AppsList, {\n    apps: data.appHub.result,\n    pager: data.appHub.pager,\n    onPageChange: handlePageChange\n  }));\n};","export const getAppIconSrc = app => {\n  const iconSize = ['128', '48', '16'].find(iconSize => iconSize in app.icons);\n  if (iconSize) {\n    return `${app.baseUrl}/${app.icons[iconSize]}`;\n  }\n  return null;\n};","// extracted by mini-css-extract-plugin\nexport default {\"appCard\":\"AppDetails_appCard__Bi+J7\",\"header\":\"AppDetails_header__KWmPo\",\"section\":\"AppDetails_section__dSBZs\",\"headerName\":\"AppDetails_headerName__JQJFM\",\"headerDeveloper\":\"AppDetails_headerDeveloper__nekvk\",\"sectionHeader\":\"AppDetails_sectionHeader__4lyyB\",\"sectionSubheader\":\"AppDetails_sectionSubheader__qvU9O\",\"mainSection\":\"AppDetails_mainSection__iw3U3\",\"manageInstalledVersion\":\"AppDetails_manageInstalledVersion__vSsmf\",\"manageInstalledVersionDescription\":\"AppDetails_manageInstalledVersionDescription__M8FoP\",\"metadataList\":\"AppDetails_metadataList__sQgsv\",\"metadataItem\":\"AppDetails_metadataItem__8lClM\",\"screenshots\":\"AppDetails_screenshots__+uNPX\",\"currentScreenshot\":\"AppDetails_currentScreenshot__MsVKT\",\"otherScreenshot\":\"AppDetails_otherScreenshot__dsGaB\",\"otherScreenshotCurrent\":\"AppDetails_otherScreenshotCurrent__zyJit\",\"versionsContainer\":\"AppDetails_versionsContainer__qDYHg\",\"versionsFilters\":\"AppDetails_versionsFilters__3-KfR\",\"channelCheckbox\":\"AppDetails_channelCheckbox__KEZiT\",\"installBtn\":\"AppDetails_installBtn__AFvUD\",\"downloadLink\":\"AppDetails_downloadLink__JA5c6\",\"openLink\":\"AppDetails_openLink__DAO+p\"};","// extracted by mini-css-extract-plugin\nexport default {\"paragraph\":\"Description_paragraph__pgsrE\"};","import React from 'react';\nimport styles from './Description.module.css';\nexport const Description = _ref => {\n  let {\n    description\n  } = _ref;\n  const lines = description.split('\\n');\n  return lines.map((line, index) => {\n    if (!line.trim()) {\n      return /*#__PURE__*/React.createElement(\"br\", {\n        key: index\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: index,\n      className: styles.paragraph\n    }, line);\n  });\n};","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nclass Api {\n  constructor(_ref) {\n    let {\n      baseUrl\n    } = _ref;\n    _defineProperty(this, \"request\", _ref2 => {\n      let {\n        url,\n        method,\n        body\n      } = _ref2;\n      return fetch(`${this.baseUrl}/api/${url}`, {\n        method,\n        body,\n        credentials: 'include',\n        redirect: 'manual'\n      }).then(async res => {\n        let errorBody;\n        try {\n          if (res.type === 'opaqueredirect') {\n            errorBody = {\n              message: i18n.t('Your session has expired. Please refresh the page and login before trying again.')\n            };\n          } else if (res.status < 200 || res.status >= 300) {\n            errorBody = await res.json();\n          }\n        } catch (err) {\n          throw new Error(i18n.t('An unexpected error occurred'));\n        }\n        if (errorBody) {\n          throw errorBody;\n        }\n        return res;\n      });\n    });\n    _defineProperty(this, \"installVersion\", versionId => this.request({\n      url: `appHub/${versionId}`,\n      method: 'post'\n    }));\n    _defineProperty(this, \"uninstallApp\", appKey => this.request({\n      url: `apps/${appKey}`,\n      method: 'delete'\n    }));\n    _defineProperty(this, \"uploadApp\", file => {\n      const data = new FormData();\n      data.append('file', file);\n      return this.request({\n        url: 'apps',\n        method: 'post',\n        body: data\n      });\n    });\n    this.baseUrl = baseUrl;\n  }\n}\nexport const useApi = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  return new Api({\n    baseUrl\n  });\n};","import semver from 'semver';\nconst parseVersion = semver.clean;\nexport const semverGt = (a, b) => {\n  if (parseVersion(a) === null || parseVersion(b) === null) {\n    return false;\n  }\n  return semver.gt(parseVersion(a), parseVersion(b));\n};\nconst satisfiesDhisVersion = (version, dhisVersion) => {\n  const {\n    minDhisVersion: min,\n    maxDhisVersion: max\n  } = version;\n  if (!min && !max) {\n    return true;\n  } else if (min && max) {\n    const range = new semver.Range(`${min} - ${max}`);\n    return semver.satisfies(dhisVersion, range);\n  } else if (!min && max) {\n    const range = new semver.Range(`<=${max}`);\n    return semver.satisfies(dhisVersion, range);\n  } else if (min && !max) {\n    const range = new semver.Range(`>=${min}`);\n    return semver.satisfies(dhisVersion, range);\n  }\n};\nexport const getCompatibleVersions = function (allVersions, dhisVersion) {\n  let channelsFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Set(['stable']);\n  return allVersions.filter(version => channelsFilter.has(version.channel)).filter(version => satisfiesDhisVersion(version, dhisVersion));\n};","import i18n from '@dhis2/d2-i18n';\nexport const channelToDisplayName = {\n  stable: i18n.t('Stable', {\n    context: 'Name of AppHub release channel'\n  }),\n  development: i18n.t('Development', {\n    context: 'Name of AppHub release channel'\n  }),\n  canary: i18n.t('Canary', {\n    context: 'Name of AppHub release channel'\n  })\n};","import { useAlert, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport semver from 'semver';\nimport { useApi } from '../../api.js';\nimport { getLatestVersion } from '../../get-latest-version.js';\nimport { getCompatibleVersions, semverGt } from '../../semver-helpers.js';\nimport styles from './AppDetails.module.css';\nimport { channelToDisplayName } from './channel-to-display-name.js';\nexport const ManageInstalledVersion = _ref => {\n  let {\n    installedApp,\n    versions = [],\n    onVersionInstall,\n    onUninstall\n  } = _ref;\n  // Overridden core apps have `bundled` set to true, but unlike preinstalled\n  // apps their `version` field has a value\n  const isBundled = installedApp && installedApp.bundled && !installedApp.version;\n  const latestVersion = getLatestVersion(versions);\n  const canInstall = latestVersion && latestVersion.version !== (installedApp === null || installedApp === void 0 ? void 0 : installedApp.version);\n  const {\n    serverVersion\n  } = useConfig();\n  const dhisVersion = semver.coerce(`${serverVersion.major}.${serverVersion.minor}`);\n  const compatibleVersions = getCompatibleVersions(versions, dhisVersion);\n  const hasCompatibleVersions = compatibleVersions.length > 0;\n  const canUninstall = installedApp && !isBundled;\n  const canUpdate = installedApp && latestVersion && semverGt(latestVersion.version, installedApp.version);\n  const {\n    installVersion,\n    uninstallApp\n  } = useApi();\n  const successAlert = useAlert(_ref2 => {\n    let {\n      message\n    } = _ref2;\n    return message;\n  }, {\n    success: true\n  });\n  const errorAlert = useAlert(_ref3 => {\n    let {\n      message\n    } = _ref3;\n    return message;\n  }, {\n    critical: true\n  });\n  const [isInstalling, setIsInstalling] = useState(false);\n  const handleInstall = async () => {\n    try {\n      setIsInstalling(true);\n      await installVersion(latestVersion.id);\n      successAlert.show({\n        message: canUpdate ? i18n.t('App updated successfully') : i18n.t('App installed successfully')\n      });\n      onVersionInstall();\n    } catch (error) {\n      errorAlert.show({\n        message: canUpdate ? i18n.t('Failed to update app: {{errorMessage}}', {\n          errorMessage: error.message,\n          nsSeparator: '-:-'\n        }) : i18n.t('Failed to install app: {{errorMessage}}', {\n          errorMessage: error.message,\n          nsSeparator: '-:-'\n        })\n      });\n    } finally {\n      setIsInstalling(false);\n    }\n  };\n  const handleUninstall = async () => {\n    try {\n      await uninstallApp(installedApp.key);\n      successAlert.show({\n        message: i18n.t('App uninstalled successfully')\n      });\n      onUninstall();\n    } catch (error) {\n      errorAlert.show({\n        message: i18n.t('Failed to uninstall app: {{errorMessage}}', {\n          errorMessage: error.message,\n          nsSeparator: '-:-'\n        })\n      });\n    }\n  };\n  const installButtonText = isInstalling ? i18n.t('Installing...') : canUpdate ? i18n.t('Update to latest version') : i18n.t('Install');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.manageInstalledVersion\n  }, !hasCompatibleVersions && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"em\", null, i18n.t('There are no compatible versions available.'))), hasCompatibleVersions && canInstall && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: handleInstall,\n    disabled: isInstalling,\n    icon: isInstalling ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null\n  }, installButtonText), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.manageInstalledVersionDescription\n  }, i18n.t('{{channel}} release {{version}}', {\n    channel: channelToDisplayName[latestVersion.channel],\n    version: latestVersion.version\n  }))), canUninstall && /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    destructive: true,\n    onClick: handleUninstall\n  }, i18n.t('Uninstall v{{appVersion}}', {\n    appVersion: installedApp.version\n  })));\n};\nManageInstalledVersion.propTypes = {\n  onVersionInstall: PropTypes.func.isRequired,\n  installedApp: PropTypes.object,\n  versions: PropTypes.array,\n  onUninstall: PropTypes.func\n};","import { useAlert, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox, CircularLoader, Button, Table, TableHead, TableRowHead, TableCellHead, TableBody, TableRow, TableCell, ButtonStrip } from '@dhis2/ui';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport semver from 'semver';\nimport { useApi } from '../../api.js';\nimport { getCompatibleVersions } from '../../semver-helpers.js';\nimport styles from './AppDetails.module.css';\nimport { channelToDisplayName } from './channel-to-display-name.js';\nconst ChannelCheckbox = _ref => {\n  let {\n    name,\n    label,\n    channelsFilter,\n    setChannelsFilter\n  } = _ref;\n  const handleChange = _ref2 => {\n    let {\n      checked\n    } = _ref2;\n    const newState = new Set(channelsFilter);\n    if (checked) {\n      newState.add(name);\n    } else {\n      newState.delete(name);\n    }\n    setChannelsFilter(newState);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.channelCheckbox\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: channelsFilter.has(name),\n    disabled: channelsFilter.size === 1 && channelsFilter.has(name),\n    onChange: handleChange,\n    label: label\n  }));\n};\nChannelCheckbox.propTypes = {\n  channelsFilter: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  setChannelsFilter: PropTypes.func.isRequired\n};\nconst ChannelsFilter = _ref3 => {\n  let {\n    versions,\n    channelsFilter,\n    setChannelsFilter\n  } = _ref3;\n  const hasChannel = channel => versions.some(v => v.channel === channel);\n  const channels = Object.keys(channelToDisplayName).filter(hasChannel);\n  if (channels.length <= 1) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.versionsFilters\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.sectionSubheader\n  }, i18n.t('Channel', {\n    context: 'AppHub release channel'\n  })), channels.map(name => /*#__PURE__*/React.createElement(ChannelCheckbox, {\n    key: name,\n    name: name,\n    label: channelToDisplayName[name],\n    channelsFilter: channelsFilter,\n    setChannelsFilter: setChannelsFilter\n  })));\n};\nChannelsFilter.propTypes = {\n  channelsFilter: PropTypes.object.isRequired,\n  setChannelsFilter: PropTypes.func.isRequired,\n  versions: PropTypes.array.isRequired\n};\nconst VersionsTable = _ref4 => {\n  let {\n    installedVersion,\n    versions,\n    onVersionInstall,\n    versionBeingInstalled\n  } = _ref4;\n  return /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Version')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Channel', {\n    context: 'AppHub release channel'\n  })), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Upload date')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, versions.map(version => {\n    const isVersionInstalling = versionBeingInstalled === version.id;\n    const installButtonText = isVersionInstalling ? i18n.t('Installing...') : version.version === installedVersion ? i18n.t('Installed') : i18n.t('Install');\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: version.id,\n      dataTest: \"versions-table-row\"\n    }, /*#__PURE__*/React.createElement(TableCell, null, version.version), /*#__PURE__*/React.createElement(TableCell, null, channelToDisplayName[version.channel]), /*#__PURE__*/React.createElement(TableCell, null, moment(version.created).format('ll')), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      secondary: true,\n      className: styles.installBtn,\n      disabled: version.version === installedVersion || !!versionBeingInstalled,\n      onClick: () => onVersionInstall(version),\n      icon: isVersionInstalling ? /*#__PURE__*/React.createElement(CircularLoader, {\n        small: true\n      }) : null\n    }, installButtonText), /*#__PURE__*/React.createElement(\"a\", {\n      download: true,\n      href: version.downloadUrl,\n      className: styles.downloadLink\n    }, /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      secondary: true\n    }, i18n.t('Download'))))));\n  })));\n};\nVersionsTable.propTypes = {\n  versions: PropTypes.array.isRequired,\n  onVersionInstall: PropTypes.func.isRequired,\n  installedVersion: PropTypes.string,\n  versionBeingInstalled: PropTypes.string\n};\nexport const Versions = _ref5 => {\n  let {\n    installedVersion,\n    versions,\n    onVersionInstall\n  } = _ref5;\n  const [channelsFilter, setChannelsFilter] = useState(new Set(['stable']));\n  const [versionBeingInstalled, setVersionBeingInstalled] = useState(null);\n  const installSuccessAlert = useAlert(i18n.t('App installed successfully'), {\n    success: true\n  });\n  const installErrorAlert = useAlert(_ref6 => {\n    let {\n      error\n    } = _ref6;\n    return i18n.t('Failed to install app: {{errorMessage}}', {\n      errorMessage: error.message,\n      nsSeparator: '-:-'\n    });\n  }, {\n    critical: true\n  });\n  const {\n    serverVersion\n  } = useConfig();\n  const {\n    installVersion\n  } = useApi();\n  const dhisVersion = semver.coerce(`${serverVersion.major}.${serverVersion.minor}`);\n  const filteredVersions = getCompatibleVersions(versions, dhisVersion, channelsFilter);\n  const handleVersionInstall = async version => {\n    try {\n      setVersionBeingInstalled(version.id);\n      await installVersion(version.id);\n      installSuccessAlert.show();\n      onVersionInstall();\n    } catch (error) {\n      installErrorAlert.show({\n        error\n      });\n    } finally {\n      setVersionBeingInstalled(null);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.versionsContainer\n  }, /*#__PURE__*/React.createElement(ChannelsFilter, {\n    versions: versions,\n    channelsFilter: channelsFilter,\n    setChannelsFilter: setChannelsFilter\n  }), filteredVersions.length > 0 ? /*#__PURE__*/React.createElement(VersionsTable, {\n    versionBeingInstalled: versionBeingInstalled,\n    installedVersion: installedVersion,\n    versions: filteredVersions,\n    onVersionInstall: handleVersionInstall\n  }) : /*#__PURE__*/React.createElement(\"em\", null, i18n.t('There are no compatible versions matching your criteria')));\n};\nVersions.propTypes = {\n  versions: PropTypes.array.isRequired,\n  onVersionInstall: PropTypes.func.isRequired,\n  installedVersion: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, Card, Divider } from '@dhis2/ui';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { getAppIconSrc } from '../../get-app-icon-src.js';\nimport { getLatestVersion } from '../../get-latest-version.js';\nimport { AppIcon } from '../AppIcon/AppIcon.js';\nimport styles from './AppDetails.module.css';\nimport { Description } from './Description.js';\nimport { ManageInstalledVersion } from './ManageInstalledVersion.js';\nimport { Versions } from './Versions.js';\nconst Metadata = _ref => {\n  var _getLatestVersion;\n  let {\n    installedVersion,\n    versions\n  } = _ref;\n  const relativeTime = datetime => moment(datetime).fromNow();\n  const latestVersion = (_getLatestVersion = getLatestVersion(versions)) === null || _getLatestVersion === void 0 ? void 0 : _getLatestVersion.version;\n  const firstPublishedVersion = versions[versions.length - 1];\n  const lastPublishedVersion = versions[0];\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.metadataList\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.metadataItem\n  }, installedVersion ? i18n.t('Version {{version}} installed', {\n    version: installedVersion\n  }) : i18n.t('Version {{version}}', {\n    version: latestVersion\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.metadataItem\n  }, i18n.t('Last updated {{relativeTime}}', {\n    relativeTime: relativeTime(lastPublishedVersion.created)\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.metadataItem\n  }, i18n.t('First published {{relativeTime}}', {\n    relativeTime: relativeTime(firstPublishedVersion.created)\n  })));\n};\nMetadata.propTypes = {\n  versions: PropTypes.array.isRequired,\n  installedVersion: PropTypes.string\n};\nconst Screenshots = _ref2 => {\n  let {\n    screenshots\n  } = _ref2;\n  const [currentScreenshotIndex, setCurrentScreenshotIndex] = useState(0);\n  const currentScreenshot = screenshots[currentScreenshotIndex];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.screenshots\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.currentScreenshot,\n    src: currentScreenshot\n  })), /*#__PURE__*/React.createElement(\"div\", null, screenshots.map((screenshot, index) => /*#__PURE__*/React.createElement(\"button\", {\n    key: index,\n    onClick: () => setCurrentScreenshotIndex(index),\n    className: styles.otherScreenshot + ' ' + (index === currentScreenshotIndex ? styles.otherScreenshotCurrent : '')\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: screenshot\n  })))));\n};\nScreenshots.propTypes = {\n  screenshots: PropTypes.array.isRequired\n};\nexport const AppDetails = _ref3 => {\n  var _installedApp$develop, _installedApp$develop2, _appHubApp$images$fin;\n  let {\n    installedApp,\n    appHubApp,\n    onVersionInstall,\n    onUninstall\n  } = _ref3;\n  const appName = installedApp ? installedApp.name : appHubApp.name;\n  const appDeveloper = appHubApp ? appHubApp.developer.organisation || appHubApp.developer.name : ((_installedApp$develop = installedApp.developer) === null || _installedApp$develop === void 0 ? void 0 : _installedApp$develop.company) || ((_installedApp$develop2 = installedApp.developer) === null || _installedApp$develop2 === void 0 ? void 0 : _installedApp$develop2.name);\n  const logo = installedApp ? getAppIconSrc(installedApp) : (_appHubApp$images$fin = appHubApp.images.find(i => i.logo)) === null || _appHubApp$images$fin === void 0 ? void 0 : _appHubApp$images$fin.imageUrl;\n  const description = appHubApp ? appHubApp.description : installedApp.description;\n  const screenshots = appHubApp === null || appHubApp === void 0 ? void 0 : appHubApp.images.filter(i => !i.logo).map(i => i.imageUrl);\n  const versions = appHubApp === null || appHubApp === void 0 ? void 0 : appHubApp.versions.sort((a, b) => b.created - a.created);\n  return /*#__PURE__*/React.createElement(Card, {\n    className: styles.appCard\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(AppIcon, {\n    src: logo\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.headerName\n  }, appName), appDeveloper && /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.headerDeveloper\n  }, i18n.t('by {{- developer}}', {\n    developer: appDeveloper,\n    context: 'developer of application'\n  }))), /*#__PURE__*/React.createElement(\"div\", null, (installedApp === null || installedApp === void 0 ? void 0 : installedApp.launchUrl) && /*#__PURE__*/React.createElement(\"a\", {\n    href: installedApp.launchUrl,\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: styles.openLink\n  }, i18n.t('Open'))))), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"section\", {\n    className: [styles.section, styles.mainSection].join(' ')\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('About this app')), description ? /*#__PURE__*/React.createElement(Description, {\n    description: description\n  }) : /*#__PURE__*/React.createElement(\"em\", null, i18n.t('The developer of this application has not provided a description'))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ManageInstalledVersion, {\n    installedApp: installedApp,\n    versions: appHubApp === null || appHubApp === void 0 ? void 0 : appHubApp.versions,\n    onVersionInstall: onVersionInstall,\n    onUninstall: onUninstall\n  }), installedApp && appHubApp && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('Additional information')), /*#__PURE__*/React.createElement(Metadata, {\n    installedVersion: installedApp.version,\n    versions: versions\n  })))), (screenshots === null || screenshots === void 0 ? void 0 : screenshots.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.section\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('Screenshots')), /*#__PURE__*/React.createElement(Screenshots, {\n    screenshots: screenshots\n  }))), appHubApp && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.section\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.sectionHeader\n  }, i18n.t('All compatible versions of this application')), /*#__PURE__*/React.createElement(Versions, {\n    installedVersion: installedApp === null || installedApp === void 0 ? void 0 : installedApp.version,\n    versions: versions,\n    onVersionInstall: onVersionInstall\n  }))));\n};\nAppDetails.propTypes = {\n  onVersionInstall: PropTypes.func.isRequired,\n  appHubApp: PropTypes.object,\n  installedApp: PropTypes.object,\n  onUninstall: PropTypes.func\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { AppDetails } from '../../components/AppDetails/AppDetails.js';\nconst query = {\n  appHubApp: {\n    resource: 'appHub/v1/apps',\n    id: _ref => {\n      let {\n        appHubId\n      } = _ref;\n      return appHubId;\n    }\n  },\n  installedApps: {\n    resource: 'apps'\n  }\n};\nexport const AppHubApp = _ref2 => {\n  let {\n    match\n  } = _ref2;\n  const {\n    appHubId\n  } = match.params;\n  const history = useHistory();\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    variables: {\n      appHubId\n    }\n  });\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading app')\n    }, error.message);\n  }\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  const {\n    appHubApp,\n    installedApps\n  } = data;\n  if (!appHubApp) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading app')\n    }, i18n.t('App not found'));\n  }\n\n  // ToDo: This is a workaround to match non-core apps to fix this bug https://dhis2.atlassian.net/browse/DHIS2-15586\n  // we don't have an app ID for these apps, so we can't reliably match them. This is the best we can do for now:\n  // to match with the name + developer email\n  const matchesNonCoreApp = (installedApp, appHubDetails) => {\n    var _installedApp$develop, _appHubDetails$develo;\n    return !installedApp.app_hub_id && installedApp.name === appHubDetails.name && ((_installedApp$develop = installedApp.developer) === null || _installedApp$develop === void 0 ? void 0 : _installedApp$develop.email) === ((_appHubDetails$develo = appHubDetails.developer) === null || _appHubDetails$develo === void 0 ? void 0 : _appHubDetails$develo.email);\n  };\n  const installedApp = installedApps.find(app => app.app_hub_id === appHubId || matchesNonCoreApp(app, appHubApp));\n  return /*#__PURE__*/React.createElement(AppDetails, {\n    installedApp: installedApp,\n    appHubApp: appHubApp,\n    onVersionInstall: refetch,\n    onUninstall: () => history.push('/app-hub')\n  });\n};\nAppHubApp.propTypes = {\n  match: PropTypes.object.isRequired\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","// extracted by mini-css-extract-plugin\nexport default {\"noticeBox\":\"AppHubErrorNoticeBox_noticeBox__GUvVQ\"};","import { NoticeBox } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './AppHubErrorNoticeBox.module.css';\nexport const AppHubErrorNoticeBox = () => /*#__PURE__*/React.createElement(NoticeBox, {\n  error: true,\n  title: i18n.t('Failed to check App Hub for available updates'),\n  className: styles.noticeBox\n}, i18n.t('Your DHIS2 server might be offline.'));","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AppsList_header__KumHI\",\"searchField\":\"AppsList_searchField__w4GEo\",\"appsWithUpdates\":\"AppsList_appsWithUpdates__NC6O8\"};","import i18n from '@dhis2/d2-i18n';\nimport { InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParam, StringParam, withDefault } from 'use-query-params';\nimport { getAppIconSrc } from '../../get-app-icon-src.js';\nimport { AppCard } from '../AppCard/AppCard.js';\nimport { AppCards as AppCards_ } from '../AppCards/AppCards.js';\nimport styles from './AppsList.module.css';\nconst AppCards = _ref => {\n  let {\n    apps\n  } = _ref;\n  const history = useHistory();\n  const handleAppClick = app => {\n    if (!app.version && !app.appHub) {\n      return;\n    }\n    history.push(app.appHub ? `/app/${app.appHub.id}` : `/installed-app/${app.key}`);\n  };\n  return /*#__PURE__*/React.createElement(AppCards_, null, apps.map(app => {\n    var _app$developer, _app$developer2;\n    return /*#__PURE__*/React.createElement(AppCard, {\n      key: app.short_name,\n      iconSrc: getAppIconSrc(app),\n      appName: app.name,\n      appDeveloper: ((_app$developer = app.developer) === null || _app$developer === void 0 ? void 0 : _app$developer.company) || ((_app$developer2 = app.developer) === null || _app$developer2 === void 0 ? void 0 : _app$developer2.name),\n      appVersion: app.version,\n      onClick: () => handleAppClick(app)\n    });\n  }));\n};\nAppCards.propTypes = {\n  apps: PropTypes.array.isRequired\n};\nconst AppsWithUpdates = _ref2 => {\n  let {\n    label,\n    apps\n  } = _ref2;\n  if (apps.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.appsWithUpdates\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header\n  }, label), /*#__PURE__*/React.createElement(AppCards, {\n    apps: apps\n  }));\n};\nAppsWithUpdates.propTypes = {\n  apps: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nconst AllApps = _ref3 => {\n  let {\n    label,\n    apps\n  } = _ref3;\n  if (apps.length === 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: styles.header\n    }, i18n.t('No apps found')), /*#__PURE__*/React.createElement(\"p\", null, i18n.t('No apps match your criteria')));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header\n  }, label), /*#__PURE__*/React.createElement(AppCards, {\n    apps: apps\n  }));\n};\nAllApps.propTypes = {\n  apps: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired\n};\nexport const AppsList = _ref4 => {\n  let {\n    apps,\n    appsWithUpdates,\n    updatesAvailableLabel,\n    allAppsLabel,\n    searchLabel\n  } = _ref4;\n  const [query, setQuery] = useQueryParam('query', withDefault(StringParam, ''));\n  const handleQueryChange = _ref5 => {\n    let {\n      value\n    } = _ref5;\n    setQuery(value, 'replaceIn');\n  };\n  const searchFilter = app => !query || app.name.toLocaleLowerCase().includes(query.toLocaleLowerCase());\n  const filteredApps = apps.filter(searchFilter);\n  const filteredAppsWithUpdates = (appsWithUpdates || []).filter(searchFilter);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InputField, {\n    className: styles.searchField,\n    value: query,\n    placeholder: searchLabel,\n    onChange: handleQueryChange,\n    type: \"search\"\n  }), /*#__PURE__*/React.createElement(AppsWithUpdates, {\n    apps: filteredAppsWithUpdates,\n    label: updatesAvailableLabel\n  }), /*#__PURE__*/React.createElement(AllApps, {\n    apps: filteredApps,\n    label: allAppsLabel\n  }));\n};\nAppsList.propTypes = {\n  allAppsLabel: PropTypes.string.isRequired,\n  searchLabel: PropTypes.string.isRequired,\n  updatesAvailableLabel: PropTypes.string.isRequired,\n  apps: PropTypes.array,\n  appsWithUpdates: PropTypes.array\n};","export const coreApps = [{\n  name: 'App Management',\n  shortName: 'app-management'\n}, {\n  name: 'Cache Cleaner',\n  shortName: 'cache-cleaner'\n}, {\n  name: 'Capture',\n  shortName: 'capture'\n}, {\n  name: 'Dashboard',\n  shortName: 'dashboard'\n}, {\n  name: 'Data Administration',\n  shortName: 'data-administration'\n}, {\n  name: 'Data Approval',\n  shortName: 'approval'\n}, {\n  name: 'Data Entry',\n  shortName: 'dataentry'\n}, {\n  name: 'Data Quality',\n  shortName: 'data-quality'\n}, {\n  name: 'Data Visualizer',\n  shortName: 'data-visualizer'\n}, {\n  name: 'Datastore',\n  shortName: 'datastore'\n}, {\n  name: 'Event Reports',\n  shortName: 'event-reports'\n}, {\n  name: 'Event Visualizer',\n  shortName: 'event-visualizer'\n}, {\n  name: 'Import/Export',\n  shortName: 'import-export'\n}, {\n  name: 'Interpretations',\n  shortName: 'interpretation'\n}, {\n  name: 'Maintenance',\n  shortName: 'maintenance'\n}, {\n  name: 'Maps',\n  shortName: 'maps'\n}, {\n  name: 'Menu Management',\n  shortName: 'menu-management'\n}, {\n  name: 'Messaging',\n  shortName: 'messaging'\n}, {\n  name: 'Pivot Table',\n  shortName: 'pivot'\n}, {\n  name: 'Reports',\n  shortName: 'reports'\n}, {\n  name: 'SMS Configuration',\n  shortName: 'sms-configuration'\n}, {\n  name: 'Scheduler',\n  shortName: 'scheduler'\n}, {\n  name: 'System Settings',\n  shortName: 'settings'\n}, {\n  name: 'Tracker Capture',\n  shortName: 'tracker-capture'\n}, {\n  name: 'Translations',\n  shortName: 'translations'\n}, {\n  name: 'Usage Analytics',\n  shortName: 'usage-analytics'\n}, {\n  name: 'User Profile',\n  shortName: 'user-profile'\n}, {\n  name: 'Users',\n  shortName: 'user'\n}];","import { useDataQuery, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport { AppHubErrorNoticeBox } from '../../components/AppHubErrorNoticeBox/AppHubErrorNoticeBox.js';\nimport { AppsList } from '../../components/AppsList/AppsList.js';\nimport { coreApps } from '../../core-apps.js';\nimport { getLatestVersion } from '../../get-latest-version.js';\nimport { semverGt } from '../../semver-helpers.js';\nconst query = {\n  overriddenCoreApps: {\n    resource: 'apps',\n    params: {\n      filter: 'bundled:eq:true'\n    }\n  },\n  modules: {\n    resource: 'action::menu/getModules'\n  }\n};\nconst appHubQuery = {\n  availableCoreApps: {\n    resource: 'appHub/v2/apps',\n    params: _ref => {\n      let {\n        dhis_version\n      } = _ref;\n      return {\n        paging: false,\n        core: true,\n        dhis_version\n      };\n    }\n  }\n};\nexport const CoreApps = () => {\n  const {\n    baseUrl,\n    systemInfo\n  } = useConfig();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query, {\n    variables: {\n      dhis_version: systemInfo.version\n    }\n  });\n  const {\n    loading: appHubLoading,\n    error: appHubError,\n    data: appHubData\n  } = useDataQuery(appHubQuery, {\n    variables: {\n      dhis_version: systemInfo.version\n    }\n  });\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Something went wrong whilst loading your core apps')\n    }, error.message);\n  }\n  if (loading || appHubLoading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  const appsByShortName = {};\n  appHubData === null || appHubData === void 0 ? void 0 : appHubData.availableCoreApps.forEach(app => {\n    const coreApp = coreApps.find(_ref2 => {\n      let {\n        name\n      } = _ref2;\n      return name === app.name;\n    });\n    if (!coreApp) {\n      return;\n    }\n    const {\n      shortName\n    } = coreApp;\n    const module = data.modules.modules.find(m => m.name === `dhis-web-${shortName}`);\n    const name = (module === null || module === void 0 ? void 0 : module.displayName) || app.name;\n    const iconUrl = module === null || module === void 0 ? void 0 : module.icon;\n    const icons = iconUrl ? {\n      48: iconUrl\n    } : {};\n    appsByShortName[shortName] = {\n      short_name: shortName,\n      appHub: app,\n      baseUrl: `${baseUrl}/dhis-web-${shortName}`,\n      name,\n      icons\n    };\n  });\n  data.overriddenCoreApps.forEach(app => {\n    if (!(app.short_name in appsByShortName)) {\n      appsByShortName[app.short_name] = app;\n    }\n    appsByShortName[app.short_name].version = app.version;\n  });\n  const apps = Object.values(appsByShortName);\n  const appsWithUpdates = apps.filter(app => {\n    var _getLatestVersion;\n    return app.appHub && (!app.version || semverGt((_getLatestVersion = getLatestVersion(app.appHub.versions)) === null || _getLatestVersion === void 0 ? void 0 : _getLatestVersion.version, app.version));\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, appHubError && /*#__PURE__*/React.createElement(AppHubErrorNoticeBox, null), /*#__PURE__*/React.createElement(AppsList, {\n    apps: apps,\n    appsWithUpdates: appsWithUpdates,\n    updatesAvailableLabel: i18n.t('Core apps with updates available'),\n    allAppsLabel: i18n.t('All core apps'),\n    searchLabel: i18n.t('Search core apps')\n  }));\n};","import { useDataQuery, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport { AppHubErrorNoticeBox } from '../../components/AppHubErrorNoticeBox/AppHubErrorNoticeBox.js';\nimport { AppsList } from '../../components/AppsList/AppsList.js';\nimport { getLatestVersion } from '../../get-latest-version.js';\nimport { semverGt } from '../../semver-helpers.js';\nconst query = {\n  customApps: {\n    resource: 'apps',\n    params: {\n      bundled: false\n    }\n  }\n};\nconst appHubQuery = {\n  // TODO: Add ability to request certain app IDs to `/v2/apps` API and use\n  // that instead\n  availableApps: {\n    resource: 'appHub/v2/apps',\n    params: _ref => {\n      let {\n        dhis_version\n      } = _ref;\n      return {\n        paging: false,\n        dhis_version\n      };\n    }\n  }\n};\nexport const CustomApps = () => {\n  const {\n    systemInfo\n  } = useConfig();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query, {\n    variables: {\n      dhis_version: systemInfo.version\n    }\n  });\n  const {\n    loading: appHubLoading,\n    error: appHubError,\n    data: appHubData\n  } = useDataQuery(appHubQuery, {\n    variables: {\n      dhis_version: systemInfo.version\n    }\n  });\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Something went wrong whilst loading your custom apps')\n    }, error.message);\n  }\n  if (loading || appHubLoading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  const apps = data.customApps.filter(app => !app.bundled).map(app => ({\n    ...app,\n    appHub: app.app_hub_id && (appHubData === null || appHubData === void 0 ? void 0 : appHubData.availableApps.find(_ref2 => {\n      let {\n        id\n      } = _ref2;\n      return id === app.app_hub_id;\n    }))\n  }));\n  const appsWithUpdates = apps.filter(app => {\n    var _getLatestVersion;\n    return app.appHub && semverGt((_getLatestVersion = getLatestVersion(app.appHub.versions)) === null || _getLatestVersion === void 0 ? void 0 : _getLatestVersion.version, app.version);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", null, appHubError && /*#__PURE__*/React.createElement(AppHubErrorNoticeBox, null), /*#__PURE__*/React.createElement(AppsList, {\n    apps: apps,\n    appsWithUpdates: appsWithUpdates,\n    updatesAvailableLabel: i18n.t('Custom apps with updates available'),\n    allAppsLabel: i18n.t('All installed custom apps'),\n    searchLabel: i18n.t('Search installed custom apps')\n  }));\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { AppDetails } from '../../components/AppDetails/AppDetails.js';\nimport { AppHubErrorNoticeBox } from '../../components/AppHubErrorNoticeBox/AppHubErrorNoticeBox.js';\nconst appsQuery = {\n  modules: {\n    resource: 'action::menu/getModules'\n  },\n  installedApps: {\n    resource: 'apps'\n  }\n};\nconst appHubQuery = {\n  app: {\n    resource: `appHub/v1/apps`,\n    id: _ref => {\n      let {\n        appHubId\n      } = _ref;\n      return appHubId;\n    }\n  }\n};\nexport const InstalledApp = _ref2 => {\n  var _appHubResponse$data;\n  let {\n    match\n  } = _ref2;\n  const {\n    appKey\n  } = match.params;\n  const history = useHistory();\n  const appsResponse = useDataQuery(appsQuery);\n  const appHubResponse = useDataQuery(appHubQuery, {\n    lazy: true\n  });\n  if (appsResponse.error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading app')\n    }, appsResponse.error.message);\n  }\n  if (appsResponse.loading || appHubResponse.loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  const {\n    modules: {\n      modules\n    },\n    installedApps\n  } = appsResponse.data;\n  const app = installedApps.find(app => app.key === appKey);\n  if (!app) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading app')\n    }, i18n.t('App not found'));\n  }\n  const module = modules.find(app => app.name === `dhis-web-${appKey}`);\n  if (module) {\n    app.name = module.displayName;\n  }\n  if (app.app_hub_id && !appHubResponse.called) {\n    appHubResponse.refetch({\n      appHubId: app.app_hub_id\n    });\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, appHubResponse.error && /*#__PURE__*/React.createElement(AppHubErrorNoticeBox, null), /*#__PURE__*/React.createElement(AppDetails, {\n    installedApp: app,\n    appHubApp: (_appHubResponse$data = appHubResponse.data) === null || _appHubResponse$data === void 0 ? void 0 : _appHubResponse$data.app,\n    onVersionInstall: appsResponse.refetch,\n    onUninstall: () => history.push('/custom-apps')\n  }));\n};\nInstalledApp.propTypes = {\n  match: PropTypes.object.isRequired\n};","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"ManualInstall_header__pY3nq\",\"warning\":\"ManualInstall_warning__mZPIx\",\"uploadBtn\":\"ManualInstall_uploadBtn__6-Gnr\",\"hiddenForm\":\"ManualInstall_hiddenForm__yve4G\"};","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader } from '@dhis2/ui';\nimport React, { useState, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useApi } from '../../api.js';\nimport styles from './ManualInstall.module.css';\nconst UploadButton = () => {\n  const history = useHistory();\n  const {\n    uploadApp\n  } = useApi();\n  const [isUploading, setIsUploading] = useState(false);\n  const successAlert = useAlert(i18n.t('App installed successfully'), options => ({\n    success: true,\n    actions: options !== null && options !== void 0 && options.id ? [{\n      label: i18n.t('View app details'),\n      onClick: () => {\n        history.push(`/app/${options.id}`);\n      }\n    }] : []\n  }));\n  const errorAlert = useAlert(_ref => {\n    let {\n      error\n    } = _ref;\n    return i18n.t('Failed to install app: {{errorMessage}}', {\n      errorMessage: error === null || error === void 0 ? void 0 : error.message,\n      nsSeparator: '-:-'\n    });\n  }, {\n    critical: true\n  });\n  const formEl = useRef(null);\n  const inputEl = useRef(null);\n  const handleClick = () => {\n    inputEl.current.click();\n  };\n  const handleUpload = async event => {\n    setIsUploading(true);\n    try {\n      var _JSON$parse;\n      const response = await uploadApp(event.target.files[0]);\n\n      // using response.text() rather .json() to avoid breaking in <v40\n      // where the API returned empty response which throws with .json()\n      const responseText = await response.text();\n      const appHubId = responseText ? (_JSON$parse = JSON.parse(responseText)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.app_hub_id : null;\n      formEl.current.reset();\n      successAlert.show({\n        id: appHubId\n      });\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n    setIsUploading(false);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.hiddenForm,\n    ref: formEl\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-test\": \"file-upload\",\n    type: \"file\",\n    accept: \"application/zip\",\n    ref: inputEl,\n    onChange: handleUpload\n  })), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    className: styles.uploadBtn,\n    onClick: handleClick,\n    disabled: isUploading\n  }, isUploading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Uploading...'), /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })) : i18n.t('Upload an app to install')));\n};\nexport const ManualInstall = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.header\n}, i18n.t('Manually install an app')), /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.warning\n}, i18n.t('Installed apps have access to your DHIS2 data and metadata. Make sure you trust an app before installing it.')), /*#__PURE__*/React.createElement(UploadButton, null));","import { CssVariables } from '@dhis2/ui';\nimport React from 'react';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport styles from './App.module.css';\nimport { Sidebar } from './components/Sidebar/Sidebar.js';\nimport { AppHub } from './pages/AppHub/AppHub.js';\nimport { AppHubApp } from './pages/AppHubApp/AppHubApp.js';\nimport { CoreApps } from './pages/CoreApps/CoreApps.js';\nimport { CustomApps } from './pages/CustomApps/CustomApps.js';\nimport { InstalledApp } from './pages/InstalledApp/InstalledApp.js';\nimport { ManualInstall } from './pages/ManualInstall/ManualInstall.js';\nimport './locales/index.js';\n\n// Used to ensure we are matching the pattern of a valid app hub id, which should be a UUID version 4\nconst APP_HUB_ID_REGEXP = '[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}';\nconst App = () => /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(QueryParamProvider, {\n  ReactRouterRoute: Route,\n  stringifyOptions: {\n    skipEmptyString: true\n  }\n}, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.sidebar\n}, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"main\", {\n  className: styles.content\n}, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/\",\n  component: CoreApps\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/custom-apps\",\n  component: CustomApps\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/installed-app/:appKey\",\n  component: InstalledApp\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/app-hub\",\n  component: AppHub\n}), /*#__PURE__*/React.createElement(Route, {\n  path: `/app/:appHubId(${APP_HUB_ID_REGEXP})`,\n  component: AppHubApp\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/manual-install\",\n  component: ManualInstall\n}), /*#__PURE__*/React.createElement(Redirect, {\n  from: \"*\",\n  to: \"/\"\n}))))));\nexport default App;"],"names":["SidebarItem","_ref","label","path","exactMatch","history","useHistory","isActive","useIsItemActive","routeMatch","useRouteMatch","isExact","React","MenuItem","className","styles","onClick","navigateToPath","push","href","active","Sidebar","Menu","_ref2","minor","patch","showCoreApps","useConfig","serverVersion","i18n","t","FallbackIcon","viewBox","fill","fillRule","height","rx","width","d","AppIcon","src","loading","AppCard","iconSrc","appName","appDeveloper","appVersion","AppCards","children","getLatestVersion","versions","reduce","latestVersion","version","parsedLatestVersion","semver","parsedVersion","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","query","appHub","resource","params","pageSize","apps","getIconSrc","app","_app$images$find","images","find","logo","imageUrl","AppCards_","map","id","name","developer","organisation","SearchFilter","onQueryChange","InputField","placeholder","value","onChange","_ref3","type","AppsList","_ref4","pager","onPageChange","Pagination","hidePageSizeSelect","AppHub","systemInfo","queryParams","setQueryParams","useQueryParams","withDefault","StringParam","page","NumberParam","debouncedQuery","useDebounce","error","data","called","refetch","useDataQuery","lazy","variables","dhis_version","useEffect","NoticeBox","title","message","CenteredContent","CircularLoader","result","getAppIconSrc","iconSize","icons","baseUrl","Description","description","split","line","index","trim","_defineProperty","obj","r","e","Symbol","toPrimitive","TypeError","String","Number","_toPrimitive","_toPropertyKey","defineProperty","enumerable","configurable","writable","Api","constructor","url","method","body","fetch","credentials","redirect","then","async","errorBody","res","status","json","err","Error","versionId","request","appKey","file","FormData","append","useApi","parseVersion","semverGt","a","b","getCompatibleVersions","allVersions","dhisVersion","channelsFilter","undefined","Set","filter","has","channel","satisfiesDhisVersion","minDhisVersion","min","maxDhisVersion","max","range","channelToDisplayName","stable","context","development","canary","ManageInstalledVersion","installedApp","onVersionInstall","onUninstall","isBundled","bundled","canInstall","major","hasCompatibleVersions","canUninstall","canUpdate","installVersion","uninstallApp","successAlert","useAlert","success","errorAlert","critical","isInstalling","setIsInstalling","useState","installButtonText","manageInstalledVersion","Button","primary","show","errorMessage","nsSeparator","disabled","icon","small","manageInstalledVersionDescription","secondary","destructive","ChannelCheckbox","setChannelsFilter","channelCheckbox","Checkbox","checked","size","newState","add","delete","ChannelsFilter","channels","keys","some","v","versionsFilters","sectionSubheader","VersionsTable","installedVersion","versionBeingInstalled","Table","TableHead","TableRowHead","TableCellHead","TableBody","isVersionInstalling","TableRow","dataTest","TableCell","moment","created","format","ButtonStrip","installBtn","download","downloadUrl","downloadLink","Versions","_ref5","setVersionBeingInstalled","installSuccessAlert","installErrorAlert","_ref6","filteredVersions","versionsContainer","Metadata","_getLatestVersion","relativeTime","datetime","fromNow","firstPublishedVersion","lastPublishedVersion","metadataList","metadataItem","Screenshots","screenshots","currentScreenshotIndex","setCurrentScreenshotIndex","currentScreenshot","screenshot","otherScreenshot","otherScreenshotCurrent","AppDetails","_installedApp$develop","_installedApp$develop2","_appHubApp$images$fin","appHubApp","company","sort","Card","appCard","header","headerName","headerDeveloper","launchUrl","rel","openLink","Divider","section","mainSection","join","sectionHeader","appHubId","installedApps","AppHubApp","match","app_hub_id","matchesNonCoreApp","appHubDetails","_appHubDetails$develo","email","namespace","addResources","arTranslations","ar_IQTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppHubErrorNoticeBox","_app$developer","_app$developer2","short_name","handleAppClick","AppsWithUpdates","AllApps","appsWithUpdates","updatesAvailableLabel","allAppsLabel","searchLabel","setQuery","useQueryParam","searchFilter","toLocaleLowerCase","includes","filteredApps","filteredAppsWithUpdates","coreApps","shortName","overriddenCoreApps","modules","appHubQuery","availableCoreApps","paging","core","CoreApps","appHubLoading","appHubError","appHubData","appsByShortName","forEach","coreApp","module","m","displayName","iconUrl","values","customApps","availableApps","CustomApps","appsQuery","InstalledApp","_appHubResponse$data","appsResponse","appHubResponse","UploadButton","uploadApp","isUploading","setIsUploading","options","actions","formEl","useRef","inputEl","ref","accept","_JSON$parse","response","event","files","responseText","text","JSON","parse","current","reset","handleClick","click","ManualInstall","App","HashRouter","QueryParamProvider","ReactRouterRoute","Route","stringifyOptions","skipEmptyString","CssVariables","spacers","colors","Switch","exact","component","Redirect","from","to"],"sourceRoot":""}